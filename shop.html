<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Shop — MODESTY WEARS</title>
    <meta name="description" content="Shop MODESTY WEARS - Islamic wears.">
    <style>
        :root {
            --pink:#ffbfd3;
            --lemon:#cfe9b4;
            --dark:#1a1a1a;
            --muted:#666;
        }
        :root {
            --pink:#ffbfd3;
            --lemon:#cfe9b4;
            --dark:#1a1a1a;
            --muted:#666;
        }

        body {
            font-family: Inter, Arial, sans-serif;
            margin: 0;
            background: #ffffff;
            color: var(--dark);
        }

        .wrap {
            max-width: 1100px;
            margin: 24px auto;
            padding: 18px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        nav a {
            margin-left: 12px;
            color: var(--dark);
            text-decoration: none;
        }

        .hero {
            display: flex;
            gap: 20px;
            align-items: center;
            margin-top: 18px;
        }

            .hero img {
                width: 48%;
                border-radius: 10px;
            }

        .cta {
            margin-top: 12px;
            display: flex;
            gap: 10px;
        }

        footer {
            margin-top: 28px;
            padding: 18px;
            border-radius: 8px;
            background: #0f1720;
            color: #fff;
        }

        @media(max-width:800px) {
            .hero {
                flex-direction: column;
            }

                .hero img {
                    width: 100%;
                }
        }

        main {
            padding: 40px 20px;
            max-width: 700px;
            margin: auto;
        }

            main h2 {
                color: var(--green);
                text-align: center;
                margin-bottom: 30px;
            }

        form {
            background-color: var(--white);
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

            form label {
                display: block;
                margin-bottom: 5px;
                font-weight: bold;
            }

            form input,
            form textarea {
                width: 100%;
                padding: 10px;
                margin-bottom: 20px;
                border: 1px solid #ccc;
                border-radius: 5px;
                font-size: 1em;
            }

            form button {
                background-color: var(--green);
                color: var(--white);
                border: none;
                padding: 12px 20px;
                font-size: 1em;
                border-radius: 5px;
                cursor: pointer;
                transition: background-color 0.3s;
            }

                form button:hover {
                    background-color: var(--orange);
                }

        body {
            font-family: Inter,Arial;
            margin: 0;
            padding: 18px;
            background: #fffaf8;
            color: var(--dark);
        }

        .wrap {
            max-width: 1200px;
            margin: 18px auto;
        }

        nav a {
            margin-left: 12px;
            color: var(--dark);
            text-decoration: none;
        }

        .hero {
            display: flex;
            gap: 20px;
            align-items: center;
            margin-top: 18px;
        }

            .hero img {
                width: 48%;
                border-radius: 10px;
            }

        .cta {
            margin-top: 12px;
            display: flex;
            gap: 10px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .top {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .filters {
            display: flex;
            gap: 8px;
            margin: 12px 0;
            flex-wrap: wrap;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(3,1fr);
            gap: 16px;
        }

        .card {
            background: #fff;
            padding: 12px;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
        }

            .card img {
                width: 100%;
                height: 200px;
                object-fit: cover;
                border-radius: 8px;
            }

        .cart-drawer {
            position: fixed;
            right: 20px;
            top: 80px;
            width: 380px;
            background: #fff;
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.12);
            transform: translateX(120%);
            transition: transform .28s;
        }

            .cart-drawer.open {
                transform: translateX(0);
            }

        .btn {
            padding: 8px 12px;
            border-radius: 8px;
            border: 0;
            background: var(--lemon);
            color: #111;
            cursor: pointer;
        }
        footer {
            margin-top: 28px;
            padding: 18px;
            border-radius: 8px;
            background: #0f1720;
            color: #fff;
        }
  

        @media(max-width:900px) {
            .grid {
                grid-template-columns: repeat(2,1fr);
            }
        }

        @media(max-width:520px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="wrap">
            <div class="logo"><img src="assets/images/logo.jpg" alt="MODESTY WEARS" width="140"><h1>MODESTY WEARS</h1></div>
            <nav>
                <a href="index.html">Home</a>
                <a href="shop.html">Shop</a>
                <a href="admin.html">Admin</a>
                <a href="contact.html">Contact</a>
            </nav>
    </header>
    <div class="wrap">
        <div class="top"><h1>MODESTY WEARS — Shop</h1><div><input id="search" placeholder="Search..." style="padding:8px;border-radius:8px"><button onclick="openCart()" id="cart-btn" style="margin-left:8px">Cart (0)</button></div></div>
        <div class="filters"><select id="category-filter"><option value="all">All categories</option></select><select id="price-filter"><option value="all">All prices</option><option value="0-50000">UGX 0 - 50,000</option><option value="50001-150000">UGX 50,001 - 150,000</option><option value="150001-9999999">UGX 150,001+</option></select><button onclick="resetFilters()">Reset</button><div style="margin-left:auto;color:var(--muted)">Shop: Hijjab City Shop LF126</div></div>
        <div class="grid" id="products-grid"></div>
        <div id="product-modal" class="modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);align-items:center;justify-content:center">
            <div style="background:#fff;padding:18px;border-radius:12px;max-width:720px;width:94%"><button onclick="closeModal()" style="float:right">✕</button><div id="modal-content"></div></div>
        </div>
        <div id="cart" class="cart-drawer" aria-hidden="true"><div style="display:flex;justify-content:space-between;align-items:center"><strong>Your Cart</strong><button onclick="toggleCart()">✕</button></div><div id="cart-items" style="max-height:50vh;overflow:auto;margin-top:8px"></div><div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center"><strong>Total: <span id="cart-total">UGX 0</span></strong><div style="display:flex;gap:8px"><button class="btn" onclick="checkoutWhatsApp()">Order via WhatsApp</button><div id="paypal-button-container"></div><button class="btn" onclick="mobileMoneyFlow()">Mobile Money</button></div></div><div style="margin-top:10px;color:#666;font-size:13px">Contact: +256748446542 · +256767506930 · Email: nakabuyehafswah708@gmail.com</div></div>
    </div>
    <script>
        const SAMPLE = [
          {id:1,name:'Hijab Set',price:45000,category:'Women',img:'assets/images/1.jpg',desc:'Comfortable hijab set in multiple colors.'},
          {id:2,name:'Long Abaya',price:90000,category:'Women',img:'assets/images/2.jpg',desc:'Elegant long abaya, breathable fabric.'},
          {id:3,name:"Men's Thobe",price:80000,category:'Men',img:'assets/images/3.jpg',desc:'Traditional thobe with neat stitching.'},
          {id:4,name:"Children's Kurta",price:35000,category:'Kids',img:'assets/images/4.jpg',desc:'Cute and modest kurta for kids.'},
          {id:5,name:'Modest Blazer',price:150000,category:'Men',img:'assets/images/5.jpg',desc:'Tailored modest blazer.'},
          {id:6,name:'Silk Scarf',price:40000,category:'Women',img:'assets/images/7.jpg',desc:'Soft silk scarf for special occasions.'}
        ];

        function loadProducts(){ const raw = localStorage.getItem('NC_PRODUCTS'); try{return raw? JSON.parse(raw) : SAMPLE;}catch(e){return SAMPLE;} }
        function saveProducts(arr){ localStorage.setItem('NC_PRODUCTS', JSON.stringify(arr)); }
        let PRODUCTS = loadProducts();

        function buildCategoryFilter(){ const cat = Array.from(new Set(PRODUCTS.map(p=>p.category))); const sel = document.getElementById('category-filter'); sel.innerHTML='<option value="all">All categories</option>'; cat.forEach(c=>{const o=document.createElement('option');o.value=c;o.textContent=c;sel.appendChild(o)}); }

        function renderProducts(){ const grid = document.getElementById('products-grid'); grid.innerHTML=''; const q = document.getElementById('search').value.toLowerCase(); const cat = document.getElementById('category-filter').value; const price = document.getElementById('price-filter').value; PRODUCTS.filter(p=>{ if(q && !(p.name.toLowerCase().includes(q) || (p.desc||'').toLowerCase().includes(q))) return false; if(cat!=='all' && p.category!==cat) return false; if(price!=='all'){ const [min,max]=price.split('-').map(Number); if(!(p.price>=min && p.price<=max)) return false; } return true; }).forEach(p=>{ const el = document.createElement('div'); el.className='card'; el.innerHTML = `<img src="${p.img}" alt="${p.name}"><div style="display:flex;justify-content:space-between;margin-top:8px"><div><strong>${p.name}</strong><div style="color:var(--muted)">${p.category}</div></div><div style="text-align:right">UGX ${numberWithCommas(p.price)}<div style="margin-top:8px"><button onclick="openModal(${p.id})">View</button> <button onclick="addToCart(${p.id})">Add</button></div></div></div>`; grid.appendChild(el); }); updateCart(); }

        function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}

        function openModal(id){ const p = PRODUCTS.find(x=>x.id===id); const box = document.getElementById('modal-content'); box.innerHTML = `<div style="display:flex;gap:12px"><div style="flex:1"><img src="${p.img}" style="width:100%;border-radius:8px"></div><div style="flex:1"><h2>${p.name}</h2><p>${p.desc}</p><div>UGX ${numberWithCommas(p.price)}</div><div style="margin-top:12px"><button class="btn" onclick="addToCart(${p.id})">Add to Cart</button> <button onclick="openWhatsApp(p.name)">Order via WhatsApp</button></div></div></div>`; document.getElementById('product-modal').style.display='flex'; }
            function closeModal(){ document.getElementById('product-modal').style.display='none'; }

            const CART = {items:{},count:0,total:0};
            function addToCart(id){ const p = PRODUCTS.find(x=>x.id===id); if(!CART.items[id]) CART.items[id] = {...p, qty:0}; CART.items[id].qty++; updateCart(); openCart(); }
            function updateCart(){ const el = document.getElementById('cart-items'); if(!el) return; el.innerHTML=''; let total=0, count=0; Object.values(CART.items).forEach(it=>{ total += it.price * it.qty; count += it.qty; const row = document.createElement('div'); row.style.display='flex'; row.style.justifyContent='space-between'; row.style.padding='8px 0'; row.innerHTML = `<div>${it.name} x ${it.qty}</div><div>UGX ${numberWithCommas(it.price*it.qty)}</div>`; el.appendChild(row); }); CART.total = total; CART.count = count; const cartTotal = document.getElementById('cart-total'); if(cartTotal) cartTotal.textContent = 'UGX '+numberWithCommas(total); const cartBtn = document.getElementById('cart-btn'); if(cartBtn) cartBtn.textContent = `Cart (${count})`; }
        function openCart(){ document.getElementById('cart').classList.add('open'); document.getElementById('cart').style.transform='translateX(0)'; }
        function toggleCart(){ document.getElementById('cart').style.transform = document.getElementById('cart').style.transform === 'translateX(0px)' ? 'translateX(120%)' : 'translateX(0)'; }

        function checkoutWhatsApp(){ if(CART.count === 0){ alert('Cart empty'); return; } const parts = []; Object.values(CART.items).forEach(i=> parts.push(`${i.qty} x ${i.name} (UGX ${numberWithCommas(i.price)})`)); const msg = `Hello MODESTY WEARS, I'd like to order:\n${parts.join('\n')}\nTotal: UGX ${numberWithCommas(CART.total)}\nName:\nPhone:`; const link = 'https://wa.me/+256748446542?text=' + encodeURIComponent(msg); window.open(link,'_blank'); }

            function loadPayPalButton(){ const script = document.createElement('script'); script.src = 'https://www.paypal.com/sdk/js?client-id=CLIENT_ID&currency=USD'; script.onload = ()=>{ if(!window.paypal) return; paypal.Buttons({ createOrder: function(data, actions){ if(CART.count===0){ alert('Cart empty'); return; } return actions.order.create({purchase_units:[{amount:{value:(CART.total/100000).toFixed(2)}}]}); }, onApprove: function(data, actions){ return actions.order.capture().then(function(details){ alert('Payment completed: ' + details.id); clearCart(); }); }, onError: function(err){ console.error(err); alert('PayPal error'); } }).render('#paypal-button-container'); }; document.head.appendChild(script); }

        function mobileMoneyFlow(){ if(CART.count === 0){ alert('Cart empty'); return; } const phone = prompt('Enter mobile money phone number (e.g. 0770000000)'); if(!phone) return; alert('A simulated mobile money prompt has been sent to ' + phone + '\n(Real integration requires a payment gateway and server).'); clearCart(); }

        function clearCart(){ CART.items={}; CART.count=0; CART.total=0; updateCart(); document.getElementById('cart').style.transform='translateX(120%)'; }

        function openWhatsApp(name){ const text = `Hi, do you have ${name} in stock?`; window.open('https://wa.me/+256748446542?text='+encodeURIComponent(text),'_blank'); }

        document.getElementById('search').addEventListener('input', renderProducts);
        document.getElementById('category-filter').addEventListener('change', renderProducts);
        document.getElementById('price-filter').addEventListener('change', renderProducts);

        function resetFilters(){ document.getElementById('search').value=''; document.getElementById('category-filter').value='all'; document.getElementById('price-filter').value='all'; renderProducts(); }

        buildCategoryFilter(); renderProducts(); loadPayPalButton();

        window.addEventListener('storage', ()=>{ PRODUCTS = loadProducts(); buildCategoryFilter(); renderProducts(); });
    </script>
    <footer>
        <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="color:#fff">© 2025 MODESTY WEARS</div>
            <div style="color:#fff">Empowering Modesty · Supporting Decency</div>
        </div>
    </footer>
</body>
</html>
      